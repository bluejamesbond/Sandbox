package display{	import gT.display.components.GenericComponent;		import flash.display.Sprite;	import flash.display.Bitmap;	import flash.text.TextField;	import flash.events.Event;	import flash.events.MouseEvent;	import flash.net.navigateToURL;	import flash.net.URLRequest;	//import classes.CustomEvent;	//import classes.Config;	import gs.TweenMax;		import gT.display.ImageView;	import gT.display.InteractiveBitmap;	import classes.display.coolFrame.Cover;	import classes.display.Label;	import flash.events.Event;		public class Item extends GenericComponent {				private var __holder:Sprite;		private var __data:Object;		private var __imageView:ImageView;		private var __title:Label;				private var __realCover:*;		private var __cover:InteractiveBitmap;		private var __ghost:Bitmap;		private var __titleLabel:Label;		private var __description:TextField;		private var __widthCover:uint = 130;				public static const IMAGE_LOADED:String = "imageLoaded";				public function Item(data:Object):void{			__data = data;			super();		}						/*Protected Methods*/		override protected function init():void		{			super.init();		}				override protected function addChildren():void{			__holder = new Sprite();			addChild(__holder)						__ghost = new Cover(null).snapShot;			__ghost.width = __widthCover;			__ghost.scaleY = __ghost.scaleX;			__holder.addChild(__ghost);			__ghost.x = -5;									__imageView = new ImageView(false);			__imageView.addEventListener(ImageView.LOAD_COMPLETE, onImageViewComplete, false, 0, true);						__titleLabel = new Label();			__titleLabel.text = __data.label;			__titleLabel.mouseChildren = false;			__titleLabel.buttonMode = true;			__titleLabel.addEventListener(MouseEvent.CLICK, coverHandler, false, 0, true);			__titleLabel.x = __ghost.width - 5;			__titleLabel.y = 5;			addChild(__titleLabel);						var font = new Font_11;			__description = font.tf;			__description.autoSize = "left";			__description.width = 170;			__description.wordWrap = true;			__description.multiline = true;			__description.htmlText = __data.description;			addChild(__description);			__description.x = __ghost.width - 5;			__description.y = __titleLabel.height + 10		}				//////////////////////////////////////////////////////////		//		// Events Handler		//		//////////////////////////////////////////////////////////		private function onImageViewComplete (e:Event):void		{			__realCover = new Cover(__imageView.image);			__cover = new InteractiveBitmap(__realCover.snapShot.bitmapData);			__cover.buttonMode = true;			__cover.width = __widthCover;			__cover.scaleY = __ghost.scaleX;			__holder.addChild(__cover);			__cover.x = -5;			__cover.addEventListener(MouseEvent.CLICK, coverHandler, false, 0, true);						TweenMax.to(__ghost, 1, {alpha:0});			TweenMax.from(__cover, 1, {alpha:0});						dispatchEvent(new Event(Item.IMAGE_LOADED));		}				private function coverHandler(e:MouseEvent):void		{			navigateToURL(new URLRequest(__data.link), __data.target);		}		/*Private Methods*/				/*Public Methods*/				public function loadImage(){			__imageView.source = __data.cover;		}				override public function draw():void{			__width = 310;		}				/*Setters and Getters*/			}}